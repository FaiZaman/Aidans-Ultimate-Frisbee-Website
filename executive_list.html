<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="img/favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <title>St Aidan's Ultimate Frisbee | Executive List</title>
</head>

<body>

<div class="wrapper">

  <div class="title">
    <a href="index.html">
      <img src="img/aidan_frisbee_logo.png" href="logo" width="110px;" height="110px;">
      <b>St Aidan's Ultimate Frisbee</b>
    </a>
    <div class="login-link">
      <button class="btn btn-primary" data-toggle="modal"
       data-target="#loginModal">Log In</button>
   </div>
  </div>

  <div class="main-navbar">
    <nav class="navbar navbar-inverse">
      <div class="navbar-center-block">
        <div class="navbar-header">
          <button type="button" class="custom-navbar-toggle navbar-toggle collapsed"
          data-toggle="collapse" data-target="#myNavbar" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="container_fluid">
          <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="match_schedules.html">Match Schedules</a></li>
              <li class="active"><a href="#">Executive List</a></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <div class="modal fade" id="loginModal" tabindex="-1" role="dialog"
  aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="loginModalLabel">Please enter your login details below</h3>
        </div>
        <div class="modal-body">
          <div class="login">
            <form class="form-container">
              <label for="username">Username:</label>
              <input type="text" class="form-control" placeholder="Enter username">
              <br><label for="password">Password:</label>
              <input type="password" class="form-control" placeholder="Enter password"><br>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="executive">
    <table class="table table-bordered table-hover" id="execTable">
      <thead>
        <tr>
          <th scope="col">Username</th>
          <th scope="col">Forename</th>
          <th scope="col">Surname</th>
          <th scope="col">Role</th>
      </thead>
      <tbody>

      </tbody>
    </table>
    <button class="btn btn-success">Add new Exec member</button>
    <div class="form-popup">
      <form class="form-container" method="get">
        <label for="username">Username:</label>
        <input type="text" class="form-control" id="username" placeholder="Enter username" required><br>
        <label for="fname">Forename:</label>
        <input type="text" class="form-control" id="forename" placeholder="Enter forename" required><br>
        <label for="sname">Surname:</label>
        <input type="text" class="form-control" id="surname" placeholder="Enter surname" required><br>
        <label for="role">Role:</label>
        <input type="text" class="form-control" id="role" placeholder="Enter role" required><br>
        <button type="submit" class="btn btn-primary">Add</button>
        <button type="button" class="btn btn-danger">Cancel</button>
      </form>
    </div>
  </div>

  <div class="footer">
    <h2 class="footer-title"><b>Contact Us:</b></h2>
      <p>Email: ultimate-frisbee@st-aidans.com</p>
      <p>Tel: +44 (0) 7219 8156</p>
      <a class="contact" href="https://www.facebook.com/groups/1368502199946708" target="_blank">
        <img class="facebook" src="img/facebook_logo.png" href="logo">
        <b class="facebook">Join our Facebook group for updates</b>
      </a>
  </div>

</div>
</body>

<script src="js/frontend.js"></script>
<script>

$(document).ready(function(){
  $.getJSON("http://localhost:8080/people", function(data){
    // get JSON and load it into the table
    let tableData = "";
    $.each(data, function(key, value){
      tableData += "<tr>";
      tableData += "<th scope='row'>" + value.username + "</th>";
      tableData += "<td>" + value.forename + "</td>";
      tableData += "<td>" + value.surname + "</td>";
      tableData += "<td>" + value.role + "</td>";
      tableData += "</tr>";
    });
    $("#execTable").append(tableData);

    // verify login with JSON

  });
});
</script>
</html>
